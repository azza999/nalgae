!function(){"use strict";var e,i="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";e="undefined"!=typeof global?global:window,"undefined"==typeof window&&("undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:i,getUserMedia:function(){}},e.window=global),"undefined"==typeof document&&(e.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){return{}}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}));var a=window.navigator;void 0!==a?(void 0!==a.webkitGetUserMedia&&(a.getUserMedia=a.webkitGetUserMedia),void 0!==a.mozGetUserMedia&&(a.getUserMedia=a.mozGetUserMedia)):a={getUserMedia:function(){},userAgent:i};var n=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(a.userAgent||""),d=!(-1===a.userAgent.indexOf("Edge")||!a.msSaveOrOpenBlob&&!a.msSaveBlob),c=!!window.opera||0<=a.userAgent.indexOf(" OPR/"),u=void 0!==window.InstallTrigger,w=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor"),p=!!window.chrome&&!c,f=!!document.documentMode&&!d;function r(e,i){var n=0,o=!1,r=window.setInterval(function(){e()&&(window.clearInterval(r),i(o)),50<n++&&(window.clearInterval(r),i(o=!0))},10)}var o={Android:function(){return a.userAgent.match(/Android/i)},BlackBerry:function(){return a.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return a.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return a.userAgent.match(/Opera Mini/i)},Windows:function(){return a.userAgent.match(/IEMobile/i)},any:function(){return o.Android()||o.BlackBerry()||o.iOS()||o.Opera()||o.Windows()},getOsName:function(){var e="Unknown OS";return o.Android()&&(e="Android"),o.BlackBerry()&&(e="BlackBerry"),o.iOS()&&(e="iOS"),o.Opera()&&(e="Opera Mini"),o.Windows()&&(e="Windows"),e}};var t="Unknown OS",s="Unknown OS Version";if(o.any())t=o.getOsName();else{var m=function(){var e=a.appVersion,i=a.userAgent,n="-",o=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var r in o){var t=o[r];if(t.r.test(i)){n=t.s;break}}var s="-";switch(/Windows/.test(n)&&(/Windows (.*)/.test(n)&&(s=/Windows (.*)/.exec(n)[1]),n="Windows"),n){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(i)&&(s=/Mac OS X (10[\.\_\d]+)/.exec(i)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(i)&&(s=/Android ([\.\_\d]+)/.exec(i)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(i)&&(s=(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(e))[1]+"."+s[2]+"."+(0|s[3]))}return{osName:n,osVersion:s}}();t=m.osName,s=m.osVersion}var v=!1,S=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){!v&&e in document.createElement("canvas")&&(v=!0),!S&&e in document.createElement("video")&&(S=!0)});var l=[],b=[],C=[],k=[];a.mediaDevices&&a.mediaDevices.enumerateDevices&&(a.enumerateDevices=function(e){a.mediaDevices.enumerateDevices().then(e).catch(function(){e([])})});var h=!1;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack?h=!0:a.mediaDevices&&a.mediaDevices.enumerateDevices&&(h=!0);var g=!1,O=!1,W=!1,M=!1,T=!1;function P(i){h?(!a.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(a.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!a.enumerateDevices&&a.enumerateDevices&&(a.enumerateDevices=a.enumerateDevices.bind(a)),a.enumerateDevices?(l=[],b=[],C=[],k=[],a.enumerateDevices(function(e){e.forEach(function(e){var i,n={};for(var o in e)n[o]=e[o];"audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),l.forEach(function(e){e.id===n.id&&e.kind===n.kind&&(i=!0)}),i||(n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||T||(T=!0),"audioinput"!==n.kind||M||(M=!0)):(n.label="Please invoke getUserMedia once.","https:"!==location.protocol&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(g=!0,-1===b.indexOf(n)&&b.push(n)),"audiooutput"===n.kind&&(O=!0,-1===C.indexOf(n)&&C.push(n)),"videoinput"===n.kind&&(W=!0,-1===k.indexOf(n)&&k.push(n)),-1===l.indexOf(n)&&l.push(n))}),void 0!==y&&(y.MediaDevices=l,y.hasMicrophone=g,y.hasSpeakers=O,y.hasWebcam=W,y.isWebsiteHasWebcamPermissions=T,y.isWebsiteHasMicrophonePermissions=M,y.audioInputDevices=b,y.audioOutputDevices=C,y.videoInputDevices=k),i&&i()})):i&&i()):i&&i()}P();var y=window.DetectRTC||{};y.browser=function(){a.appVersion;var e,i,n,o=a.userAgent,r=a.appName,t=""+parseFloat(a.appVersion),s=parseInt(a.appVersion,10);if(c){r="Opera";try{s=(t=a.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(e){t="0.0.0.0",s=0}}else f?(i=o.indexOf("MSIE"),r="IE",t=o.substring(i+5)):p?(i=o.indexOf("Chrome"),r="Chrome",t=o.substring(i+7)):w?(i=o.indexOf("Safari"),r="Safari",t=o.substring(i+7),-1!==(i=o.indexOf("Version"))&&(t=o.substring(i+8))):u?(i=o.indexOf("Firefox"),r="Firefox",t=o.substring(i+8)):(e=o.lastIndexOf(" ")+1)<(i=o.lastIndexOf("/"))&&(r=o.substring(e,i),t=o.substring(i+1),r.toLowerCase()===r.toUpperCase()&&(r=a.appName));return d&&(r="Edge",t=parseInt(a.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10).toString()),-1!==(n=t.indexOf(";"))&&(t=t.substring(0,n)),-1!==(n=t.indexOf(" "))&&(t=t.substring(0,n)),s=parseInt(""+t,10),isNaN(s)&&(t=""+parseFloat(a.appVersion),s=parseInt(a.appVersion,10)),{fullVersion:t,version:s,name:r,isPrivateBrowsing:!1}}(),function(i){var n;if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){n=!1},function(e){n=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var o;try{o=window.indexedDB.open("test")}catch(e){n=!0}void 0===n&&r(function(){return"done"===o.readyState},function(e){e||(n=!o.result)})}else if(function(e){var i=e.toLowerCase();if(0===i.indexOf("msie")&&0===i.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(i);return!!(n&&10<=parseInt(n[1],10))}(window.navigator.userAgent)){n=!1;try{window.indexedDB||(n=!0)}catch(e){n=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){n=!0}void 0===n&&(n=!1,window.localStorage.removeItem("test"))}r(function(){return void 0!==n},function(e){i(n)})}(function(e){y.browser.isPrivateBrowsing=!!e}),y.browser["is"+y.browser.name]=!0;window.process&&"object"==typeof window.process&&window.process.versions&&window.process.versions["node-webkit"];var x=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(e){x||e in window&&(x=!0)}),y.isWebRTCSupported=x,y.isORTCSupported="undefined"!=typeof RTCIceGatherer;var D=!1;y.browser.isChrome&&35<=y.browser.version?D=!0:y.browser.isFirefox&&34<=y.browser.version&&(D=!0),"https:"!==location.protocol&&(D=!1),y.isScreenCapturingSupported=D;var R={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(e){R.isSupported||e in window&&(R.isSupported=!0,"createMediaStreamSource"in window[e].prototype&&(R.isCreateMediaStreamSourceSupported=!0))}),y.isAudioContextSupported=R.isSupported,y.isCreateMediaStreamSourceSupported=R.isCreateMediaStreamSourceSupported;var A=!1;y.browser.isChrome&&31<y.browser.version&&(A=!0),y.isRtpDataChannelsSupported=A;var I=!1;y.browser.isFirefox&&28<y.browser.version?I=!0:y.browser.isChrome&&25<y.browser.version?I=!0:y.browser.isOpera&&11<=y.browser.version&&(I=!0),y.isSctpDataChannelsSupported=I,y.isMobileDevice=n;var B=!1;a.getUserMedia?B=!0:a.mediaDevices&&a.mediaDevices.getUserMedia&&(B=!0),y.browser.isChrome&&46<=y.browser.version&&"https:"!==location.protocol&&(y.isGetUserMediaSupported="Requires HTTPs"),y.isGetUserMediaSupported=B,y.osName=t,y.osVersion=s;var N="";screen.width&&(N+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));y.displayResolution=N,y.isCanvasSupportsStreamCapturing=v,y.isVideoSupportsStreamCapturing=S,y.DetectLocalIPAddress=function(i){y.isWebRTCSupported&&(y.isORTCSupported||function(o){var r={},e=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,i=!!window.webkitRTCPeerConnection;if(!e){var n=document.getElementById("iframe");if(!n)throw"NOTE: you need to have an iframe in the page right above the script tag.";var t=n.contentWindow;e=t.RTCPeerConnection||t.mozRTCPeerConnection||t.webkitRTCPeerConnection,i=!!t.webkitRTCPeerConnection}if(!e)return;var s;i&&(s={iceServers:[{urls:"stun:stun.services.mozilla.com"}]},void 0!==y&&y.browser.isFirefox&&y.browser.version<=38&&(s[0]={url:s[0].urls}));var a=new e(s,{optional:[{RtpDataChannels:!0}]});function d(e){var i=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(e);if(i){var n=i[1];void 0===r[n]&&o(n),r[n]=!0}else console.warn("Could not match IP address in",e)}a.onicecandidate=function(e){e.candidate&&d(e.candidate.candidate)},a.createDataChannel(""),a.createOffer(function(e){a.setLocalDescription(e,function(){},function(){})},function(){}),setTimeout(function(){a.localDescription.sdp.split("\n").forEach(function(e){0===e.indexOf("a=candidate:")&&d(e)})},1e3)}(function(e){e.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?i("Local: "+e):i("Public: "+e)}))},y.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,y.isWebSocketsBlocked=!y.isWebSocketsSupported,y.checkWebSocketsSupport=function(i){i=i||function(){};try{var e=new WebSocket("wss://echo.websocket.org:443/");e.onopen=function(){y.isWebSocketsBlocked=!1,i(),e.close(),e=null},e.onerror=function(){y.isWebSocketsBlocked=!0,i()}}catch(e){y.isWebSocketsBlocked=!0,i()}},y.load=function(e){P(e=e||function(){})},y.MediaDevices=l,y.hasMicrophone=g,y.hasSpeakers=O,y.hasWebcam=W,y.isWebsiteHasWebcamPermissions=T,y.isWebsiteHasMicrophonePermissions=M,y.audioInputDevices=b,y.audioOutputDevices=C,y.videoInputDevices=k;var E=!1;"setSinkId"in document.createElement("video")&&(E=!0),y.isSetSinkIdSupported=E;var U=!1;y.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(U=!0):y.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(U=!0),y.isRTPSenderReplaceTracksSupported=U;var F=!1;y.browser.isFirefox&&38<y.browser.version&&(F=!0),y.isRemoteStreamProcessingSupported=F;var V=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(V=!0),y.isApplyConstraintsSupported=V;var z=!1;y.browser.isFirefox&&43<=y.browser.version&&(z=!0),y.isMultiMonitorScreenCapturingSupported=z,y.isPromisesSupported=!!("Promise"in window),void 0===y&&(window.DetectRTC={});var X=window.MediaStream;void 0===X&&"undefined"!=typeof webkitMediaStream&&(X=webkitMediaStream),y.MediaStream=void 0!==X&&Object.keys(X.prototype),"undefined"!=typeof MediaStreamTrack?y.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):y.MediaStreamTrack=!1;var G=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;y.RTCPeerConnection=void 0!==G&&Object.keys(G.prototype),window.DetectRTC=y,"undefined"!=typeof module&&(module.exports=y),"function"==typeof define&&define.amd&&define("DetectRTC",[],function(){return y})}();